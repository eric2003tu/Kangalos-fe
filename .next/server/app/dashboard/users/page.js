(()=>{var e={};e.id=9242,e.ids=[9242],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4902:(e,s,a)=>{Promise.resolve().then(a.bind(a,80994)),Promise.resolve().then(a.bind(a,82455))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},15079:(e,s,a)=>{"use strict";a.d(s,{bq:()=>u,eb:()=>m,gC:()=>h,l6:()=>d,yv:()=>c});var r=a(60687);a(43210);var t=a(72951),l=a(78272),n=a(13964),i=a(3589),o=a(4780);function d({...e}){return(0,r.jsx)(t.bL,{"data-slot":"select",...e})}function c({...e}){return(0,r.jsx)(t.WT,{"data-slot":"select-value",...e})}function u({className:e,size:s="default",children:a,...n}){return(0,r.jsxs)(t.l9,{"data-slot":"select-trigger","data-size":s,className:(0,o.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[a,(0,r.jsx)(t.In,{asChild:!0,children:(0,r.jsx)(l.A,{className:"size-4 opacity-50"})})]})}function h({className:e,children:s,position:a="popper",...l}){return(0,r.jsx)(t.ZL,{children:(0,r.jsxs)(t.UC,{"data-slot":"select-content",className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...l,children:[(0,r.jsx)(x,{}),(0,r.jsx)(t.LM,{className:(0,o.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),(0,r.jsx)(p,{})]})})}function m({className:e,children:s,...a}){return(0,r.jsxs)(t.q7,{"data-slot":"select-item",className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...a,children:[(0,r.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,r.jsx)(t.VF,{children:(0,r.jsx)(n.A,{className:"size-4"})})}),(0,r.jsx)(t.p4,{children:s})]})}function x({className:e,...s}){return(0,r.jsx)(t.PP,{"data-slot":"select-scroll-up-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,r.jsx)(i.A,{className:"size-4"})})}function p({className:e,...s}){return(0,r.jsx)(t.wn,{"data-slot":"select-scroll-down-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,r.jsx)(l.A,{className:"size-4"})})}},17687:(e,s,a)=>{"use strict";a.d(s,{default:()=>P});var r=a(60687),t=a(43210),l=a(29523),n=a(63143),i=a(96362),o=a(99270),d=a(12597),c=a(78122),u=a(1303),h=a(96834),m=a(89667),x=a(21342),p=a(27605),j=a(558),f=a(63503),g=a(15079),v=a(71669),b=a(11860),N=a(8819),y=a(28475),w=a(43214);let C=w.Ik({firstName:w.Yj().min(1),lastName:w.Yj().min(1),username:w.Yj().min(1),email:w.Yj().email(),phone:w.Yj().min(1),userType:w.k5(["ORGANISATION","STUDENT","STAFF","INDIVIDUAL"])}),A=C.partial().extend({password:w.Yj().min(8).optional()});w.Ik({roleId:w.Yj().uuid()});var k=a(77618);function T({isOpen:e,onClose:s}){let a=(0,k.c3)("users"),[n,i]=(0,t.useState)(!1),{mutateAsync:o}=(0,y.Tk)(),d=(0,p.mN)({resolver:(0,j.u)(C),defaultValues:{firstName:"",lastName:"",username:"",email:"",phone:"",userType:"INDIVIDUAL"}}),c=async e=>{try{i(!0),await o(e),d.reset(),s()}catch(e){console.error("Error creating user:",e)}finally{i(!1)}},u=e=>{e||(d.reset(),s())};return(0,r.jsx)(f.lG,{open:e,onOpenChange:u,children:(0,r.jsxs)(f.Cf,{className:"sm:max-w-[500px]",children:[(0,r.jsxs)(f.c7,{children:[(0,r.jsx)(f.L3,{children:a("dialogs.create.title")}),(0,r.jsx)(f.rr,{children:a("dialogs.create.description")})]}),(0,r.jsx)(v.lV,{...d,children:(0,r.jsxs)("form",{onSubmit:d.handleSubmit(c),className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)(v.zB,{control:d.control,name:"firstName",render:({field:e})=>(0,r.jsxs)(v.eI,{children:[(0,r.jsx)(v.lR,{children:a("form.firstName")}),(0,r.jsx)(v.MJ,{children:(0,r.jsx)(m.p,{placeholder:a("form.firstNamePlaceholder"),...e,disabled:n})}),(0,r.jsx)(v.C5,{})]})}),(0,r.jsx)(v.zB,{control:d.control,name:"lastName",render:({field:e})=>(0,r.jsxs)(v.eI,{children:[(0,r.jsx)(v.lR,{children:a("form.lastName")}),(0,r.jsx)(v.MJ,{children:(0,r.jsx)(m.p,{placeholder:a("form.lastNamePlaceholder"),...e,disabled:n})}),(0,r.jsx)(v.C5,{})]})})]}),(0,r.jsx)(v.zB,{control:d.control,name:"username",render:({field:e})=>(0,r.jsxs)(v.eI,{children:[(0,r.jsx)(v.lR,{children:a("form.username")}),(0,r.jsx)(v.MJ,{children:(0,r.jsx)(m.p,{placeholder:a("form.usernamePlaceholder"),...e,disabled:n})}),(0,r.jsx)(v.C5,{})]})}),(0,r.jsx)(v.zB,{control:d.control,name:"email",render:({field:e})=>(0,r.jsxs)(v.eI,{children:[(0,r.jsx)(v.lR,{children:a("form.email")}),(0,r.jsx)(v.MJ,{children:(0,r.jsx)(m.p,{type:"email",placeholder:a("form.emailPlaceholder"),...e,disabled:n})}),(0,r.jsx)(v.C5,{})]})}),(0,r.jsx)(v.zB,{control:d.control,name:"phone",render:({field:e})=>(0,r.jsxs)(v.eI,{children:[(0,r.jsx)(v.lR,{children:a("form.phone")}),(0,r.jsx)(v.MJ,{children:(0,r.jsx)(m.p,{placeholder:a("form.phonePlaceholder"),...e,disabled:n})}),(0,r.jsx)(v.C5,{})]})}),(0,r.jsx)(v.zB,{control:d.control,name:"userType",render:({field:e})=>(0,r.jsxs)(v.eI,{children:[(0,r.jsx)(v.lR,{children:a("form.userType")}),(0,r.jsxs)(g.l6,{onValueChange:e.onChange,defaultValue:e.value,disabled:n,children:[(0,r.jsx)(v.MJ,{children:(0,r.jsx)(g.bq,{children:(0,r.jsx)(g.yv,{placeholder:a("form.userTypePlaceholder")})})}),(0,r.jsxs)(g.gC,{children:[(0,r.jsx)(g.eb,{value:"ORGANISATION",children:a("userTypes.organisation")}),(0,r.jsx)(g.eb,{value:"STUDENT",children:a("userTypes.student")}),(0,r.jsx)(g.eb,{value:"STAFF",children:a("userTypes.staff")}),(0,r.jsx)(g.eb,{value:"INDIVIDUAL",children:a("userTypes.individual")})]})]}),(0,r.jsx)(v.C5,{})]})}),(0,r.jsxs)(f.Es,{children:[(0,r.jsxs)(l.$,{type:"button",variant:"outline",onClick:()=>u(!1),disabled:n,children:[(0,r.jsx)(b.A,{className:"h-4 w-4 mr-2"}),a("actions.cancel")]}),(0,r.jsxs)(l.$,{type:"submit",disabled:n,children:[(0,r.jsx)(N.A,{className:"h-4 w-4 mr-2"}),n?a("actions.creating"):a("actions.create")]})]})]})})]})})}var I=a(17367),D=a(85726);function E({userId:e,isOpen:s,onClose:a}){let n=(0,k.c3)("users"),[i,o]=(0,t.useState)(!1),{data:d,isLoading:c,error:u}=(0,y.Jd)(e),{mutateAsync:h}=(0,y.Qc)(e),x=(0,p.mN)({resolver:(0,j.u)(A),defaultValues:{firstName:"",lastName:"",username:"",email:"",phone:"",userType:"INDIVIDUAL",password:""}}),w=async e=>{try{o(!0);let s={...e};s.password||delete s.password,await h(s),a()}catch(e){console.error("Error updating user:",e)}finally{o(!1)}};return c?(0,r.jsx)(f.lG,{open:s,onOpenChange:a,children:(0,r.jsxs)(f.Cf,{className:"sm:max-w-[500px]",children:[(0,r.jsxs)(f.c7,{children:[(0,r.jsx)(f.L3,{children:n("dialogs.edit.title")}),(0,r.jsx)(f.rr,{children:n("dialogs.edit.description")})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(D.E,{className:"h-4 w-20"}),(0,r.jsx)(D.E,{className:"h-10 w-full"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(D.E,{className:"h-4 w-20"}),(0,r.jsx)(D.E,{className:"h-10 w-full"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(D.E,{className:"h-4 w-20"}),(0,r.jsx)(D.E,{className:"h-10 w-full"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(D.E,{className:"h-4 w-20"}),(0,r.jsx)(D.E,{className:"h-10 w-full"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(D.E,{className:"h-4 w-20"}),(0,r.jsx)(D.E,{className:"h-10 w-full"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(D.E,{className:"h-4 w-20"}),(0,r.jsx)(D.E,{className:"h-10 w-full"})]})]}),(0,r.jsxs)(f.Es,{children:[(0,r.jsxs)(l.$,{variant:"outline",disabled:!0,children:[(0,r.jsx)(b.A,{className:"h-4 w-4 mr-2"}),n("actions.cancel")]}),(0,r.jsxs)(l.$,{disabled:!0,children:[(0,r.jsx)(N.A,{className:"h-4 w-4 mr-2"}),n("actions.update")]})]})]})}):u||!d?(0,r.jsx)(f.lG,{open:s,onOpenChange:a,children:(0,r.jsxs)(f.Cf,{className:"sm:max-w-[500px]",children:[(0,r.jsx)(f.c7,{children:(0,r.jsx)(f.L3,{children:n("dialogs.edit.title")})}),(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("p",{className:"text-destructive",children:n("errors.userNotFound")}),(0,r.jsx)(l.$,{variant:"outline",onClick:a,className:"mt-4",children:n("actions.close")})]})]})}):(0,r.jsx)(f.lG,{open:s,onOpenChange:a,children:(0,r.jsxs)(f.Cf,{className:"sm:max-w-[500px]",children:[(0,r.jsxs)(f.c7,{children:[(0,r.jsx)(f.L3,{children:n("dialogs.edit.title")}),(0,r.jsx)(f.rr,{children:n("dialogs.edit.description")})]}),(0,r.jsx)(v.lV,{...x,children:(0,r.jsxs)("form",{onSubmit:x.handleSubmit(w),className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)(v.zB,{control:x.control,name:"firstName",render:({field:e})=>(0,r.jsxs)(v.eI,{children:[(0,r.jsx)(v.lR,{children:n("form.firstName")}),(0,r.jsx)(v.MJ,{children:(0,r.jsx)(m.p,{placeholder:n("form.firstNamePlaceholder"),...e,disabled:i})}),(0,r.jsx)(v.C5,{})]})}),(0,r.jsx)(v.zB,{control:x.control,name:"lastName",render:({field:e})=>(0,r.jsxs)(v.eI,{children:[(0,r.jsx)(v.lR,{children:n("form.lastName")}),(0,r.jsx)(v.MJ,{children:(0,r.jsx)(m.p,{placeholder:n("form.lastNamePlaceholder"),...e,disabled:i})}),(0,r.jsx)(v.C5,{})]})})]}),(0,r.jsx)(v.zB,{control:x.control,name:"username",render:({field:e})=>(0,r.jsxs)(v.eI,{children:[(0,r.jsx)(v.lR,{children:n("form.username")}),(0,r.jsx)(v.MJ,{children:(0,r.jsx)(m.p,{placeholder:n("form.usernamePlaceholder"),...e,disabled:i})}),(0,r.jsx)(v.C5,{})]})}),(0,r.jsx)(v.zB,{control:x.control,name:"email",render:({field:e})=>(0,r.jsxs)(v.eI,{children:[(0,r.jsx)(v.lR,{children:n("form.email")}),(0,r.jsx)(v.MJ,{children:(0,r.jsx)(m.p,{type:"email",placeholder:n("form.emailPlaceholder"),...e,disabled:i})}),(0,r.jsx)(v.C5,{})]})}),(0,r.jsx)(v.zB,{control:x.control,name:"phone",render:({field:e})=>(0,r.jsxs)(v.eI,{children:[(0,r.jsx)(v.lR,{children:n("form.phone")}),(0,r.jsx)(v.MJ,{children:(0,r.jsx)(m.p,{placeholder:n("form.phonePlaceholder"),...e,disabled:i})}),(0,r.jsx)(v.C5,{})]})}),(0,r.jsx)(v.zB,{control:x.control,name:"userType",render:({field:e})=>(0,r.jsxs)(v.eI,{children:[(0,r.jsx)(v.lR,{children:n("form.userType")}),(0,r.jsxs)(g.l6,{onValueChange:e.onChange,value:e.value,disabled:i,children:[(0,r.jsx)(v.MJ,{children:(0,r.jsx)(g.bq,{children:(0,r.jsx)(g.yv,{placeholder:n("form.userTypePlaceholder")})})}),(0,r.jsxs)(g.gC,{children:[(0,r.jsx)(g.eb,{value:"ORGANISATION",children:n("userTypes.organisation")}),(0,r.jsx)(g.eb,{value:"STUDENT",children:n("userTypes.student")}),(0,r.jsx)(g.eb,{value:"STAFF",children:n("userTypes.staff")}),(0,r.jsx)(g.eb,{value:"INDIVIDUAL",children:n("userTypes.individual")})]})]}),(0,r.jsx)(v.C5,{})]})}),(0,r.jsx)(v.zB,{control:x.control,name:"password",render:({field:e})=>(0,r.jsxs)(v.eI,{children:[(0,r.jsxs)(v.lR,{children:[n("form.password")," ",(0,r.jsxs)("span",{className:"text-muted-foreground text-sm",children:["(",n("form.optional"),")"]})]}),(0,r.jsx)(v.MJ,{children:(0,r.jsx)(m.p,{type:"password",placeholder:n("form.passwordPlaceholder"),...e,disabled:i})}),(0,r.jsx)(v.C5,{})]})}),(0,r.jsxs)(f.Es,{children:[(0,r.jsxs)(l.$,{type:"button",variant:"outline",onClick:a,disabled:i,children:[(0,r.jsx)(b.A,{className:"h-4 w-4 mr-2"}),n("actions.cancel")]}),(0,r.jsxs)(l.$,{type:"submit",disabled:i,children:[(0,r.jsx)(N.A,{className:"h-4 w-4 mr-2"}),i?n("actions.updating"):n("actions.update")]})]})]})})]})})}var S=a(93500);function z({userId:e,isOpen:s,onClose:a}){let l=(0,k.c3)("users"),[n,i]=(0,t.useState)(""),[o,d]=(0,t.useState)(!1),{data:c,isLoading:u,error:h}=(0,y.Jd)(e??""),{mutateAsync:x}=(0,y.iY)(),p=async()=>{if(e)try{d(!0),await x(e),a()}catch(e){console.error("Error deleting user:",e)}finally{d(!1)}};if(!e)return(0,r.jsx)(S.Lt,{open:s,onOpenChange:a,children:(0,r.jsxs)(S.EO,{children:[(0,r.jsxs)(S.wd,{children:[(0,r.jsx)(S.r7,{children:l("dialogs.delete.title")}),(0,r.jsx)(S.$v,{children:(0,r.jsx)("p",{children:l("errors.userNotFound")})})]}),(0,r.jsx)(S.ck,{children:(0,r.jsx)(S.Zr,{children:l("actions.close")})})]})});if(u)return(0,r.jsx)(S.Lt,{open:s,onOpenChange:a,children:(0,r.jsxs)(S.EO,{children:[(0,r.jsxs)(S.wd,{children:[(0,r.jsx)(S.r7,{children:l("dialogs.delete.title")}),(0,r.jsx)(S.$v,{children:(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(D.E,{className:"h-4 w-full"}),(0,r.jsx)(D.E,{className:"h-4 w-3/4"}),(0,r.jsx)(D.E,{className:"h-10 w-full"})]})})]}),(0,r.jsxs)(S.ck,{children:[(0,r.jsx)(S.Zr,{disabled:!0,children:l("actions.cancel")}),(0,r.jsx)(S.Rx,{disabled:!0,children:l("actions.delete")})]})]})});if(h||!c)return(0,r.jsx)(S.Lt,{open:s,onOpenChange:a,children:(0,r.jsxs)(S.EO,{children:[(0,r.jsxs)(S.wd,{children:[(0,r.jsx)(S.r7,{children:l("dialogs.delete.title")}),(0,r.jsx)(S.$v,{children:(0,r.jsx)("p",{children:h?l("errors.loadFailed"):l("errors.userNotFound")})})]}),(0,r.jsx)(S.ck,{children:(0,r.jsx)(S.Zr,{children:l("actions.close")})})]})});let j=`${c.firstName??""} ${c.lastName??""}`.trim()||c.username||c.email||`User ${e}`,f=n!==j;return(0,r.jsx)(S.Lt,{open:s,onOpenChange:a,children:(0,r.jsxs)(S.EO,{children:[(0,r.jsxs)(S.wd,{children:[(0,r.jsx)(S.r7,{children:l("dialogs.delete.title")}),(0,r.jsx)(S.$v,{asChild:!0,children:(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("p",{children:l("dialogs.delete.description",{name:j,username:c.username??"",email:c.email??""})}),(0,r.jsx)("div",{className:"bg-destructive/10 border border-destructive/20 rounded-md p-3",children:(0,r.jsx)("p",{className:"text-sm font-medium text-destructive",children:l("dialogs.delete.warning")})}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:l("dialogs.delete.confirmLabel",{name:j})}),(0,r.jsx)(m.p,{value:n,onChange:e=>i(e.target.value),placeholder:j,disabled:o,className:"font-mono"})]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,r.jsxs)("p",{children:[(0,r.jsxs)("strong",{children:[l("form.userType"),":"]})," ",c.userType?l(`userTypes.${c.userType.toLowerCase()}`):l("userTypes.unknown")]}),(0,r.jsxs)("p",{children:[(0,r.jsxs)("strong",{children:[l("form.email"),":"]})," ",c.email||"N/A"]}),(0,r.jsxs)("p",{children:[(0,r.jsxs)("strong",{children:[l("table.verification"),":"]})," ",void 0!==c.isVerified?c.isVerified?l("status.verified"):l("status.unverified"):"N/A"]}),(0,r.jsxs)("p",{children:[(0,r.jsxs)("strong",{children:[l("table.createdAt"),":"]})," ",(e=>{if(!e)return l("common.unknown")||"Unknown";try{return new Date(e).toLocaleDateString()}catch{return l("common.error")||"Invalid Date"}})(c.createdAt)]})]})]})})]}),(0,r.jsxs)(S.ck,{children:[(0,r.jsx)(S.Zr,{disabled:o,children:l("actions.cancel")}),(0,r.jsx)(S.Rx,{onClick:p,disabled:f||o,className:"bg-destructive hover:bg-destructive/90",children:o?l("actions.deleting"):l("actions.delete")})]})]})})}function P(){let e=(0,k.c3)("users"),{data:s,isLoading:a,error:p,refetch:j}=(0,y.kp)(),[f,g]=(0,t.useState)(!1),[v,b]=(0,t.useState)(!1),[N,w]=(0,t.useState)(!1),[C,A]=(0,t.useState)(!1),[D,S]=(0,t.useState)(void 0),[P,O]=(0,t.useState)([]),[V,R]=(0,t.useState)(""),[$,F]=(0,t.useState)({pageIndex:0,pageSize:10}),[L,q]=(0,t.useState)([]),[M,_]=(0,t.useState)({firstName:!0,username:!1,email:!1,phone:!1,userType:!0,isVerified:!0,createdAt:!1,actions:!0}),G=s?.data||[],U=async()=>{g(!0);try{await j()}finally{g(!1)}},J=(0,t.useCallback)(e=>{S(e),w(!0)},[]),B=(0,t.useCallback)(e=>{S(e),A(!0)},[]),K=(0,t.useCallback)(s=>(0,r.jsx)(h.E,{variant:{ORGANISATION:"default",STUDENT:"secondary",STAFF:"outline",INDIVIDUAL:"destructive"}[s||""]||"default",children:s?e(`userTypes.${s.toLowerCase()}`):e("userTypes.unknown")}),[e]),Y=(0,t.useCallback)(s=>(0,r.jsx)(h.E,{variant:s?"default":"destructive",children:s?e("status.verified"):e("status.unverified")}),[e]),Z=e=>e?new Date(e).toLocaleDateString():"",H=(0,t.useMemo)(()=>[{accessorKey:"firstName",header:e("table.firstName"),Cell:({row:e})=>(0,r.jsxs)("div",{className:"font-medium",children:[e.original.firstName," ",e.original.lastName]})},{accessorKey:"username",header:e("table.username"),Cell:({cell:e})=>(0,r.jsx)("div",{className:"font-mono text-sm",children:e.getValue()})},{accessorKey:"email",header:e("table.email"),Cell:({cell:e})=>(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:e.getValue()})},{accessorKey:"phone",header:e("table.phone"),Cell:({cell:e})=>(0,r.jsx)("div",{className:"text-sm",children:e.getValue()})},{accessorKey:"userType",header:e("table.userType"),Cell:({cell:e})=>K(e.getValue()),filterVariant:"select",mantineFilterSelectProps:{data:[{value:"ORGANISATION",label:e("userTypes.organisation")},{value:"STUDENT",label:e("userTypes.student")},{value:"STAFF",label:e("userTypes.staff")},{value:"INDIVIDUAL",label:e("userTypes.individual")}]}},{accessorKey:"isVerified",header:e("table.verification"),Cell:({cell:e})=>Y(e.getValue()),filterVariant:"select",mantineFilterSelectProps:{data:[{value:"true",label:e("status.verified")},{value:"false",label:e("status.unverified")}]}},{accessorKey:"createdAt",header:e("table.createdAt"),Cell:({cell:e})=>Z(e.getValue())},{accessorKey:"actions",header:e("table.actions"),enableColumnFilter:!1,enableSorting:!1,Cell:({row:s})=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(l.$,{variant:"ghost",size:"icon",onClick:()=>J(s.original.id),className:"h-8 w-8 p-0",children:[(0,r.jsx)(n.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:e("actions.edit")})]}),(0,r.jsxs)(l.$,{variant:"ghost",size:"icon",onClick:()=>B(s.original.id),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:[(0,r.jsx)(i.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:e("actions.delete")})]})]})}],[e,K,Y,J,B]),Q=(0,I.$G)({columns:H,data:G,enableColumnFilters:!0,enableGlobalFilter:!0,enablePagination:!0,enableSorting:!0,enableTopToolbar:!0,enableBottomToolbar:!0,enableRowActions:!1,enableHiding:!0,initialState:{pagination:{pageSize:10,pageIndex:0},columnVisibility:M,showGlobalFilter:!1},state:{columnFilters:P,globalFilter:V,pagination:$,sorting:L,columnVisibility:M,isLoading:a,showProgressBars:f},onColumnFiltersChange:O,onGlobalFilterChange:R,onPaginationChange:F,onSortingChange:q,onColumnVisibilityChange:_,renderTopToolbar:()=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",children:e("title")}),(0,r.jsxs)(h.E,{variant:"outline",children:[s?.meta?.pagination?.total||0," ",e("total")]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(o.A,{className:"absolute left-2 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,r.jsx)(m.p,{placeholder:e("common.search"),value:V??"",onChange:e=>R(e.target.value),className:"pl-8 w-64"})]}),(0,r.jsxs)(x.rI,{children:[(0,r.jsx)(x.ty,{asChild:!0,children:(0,r.jsxs)(l.$,{variant:"outline",size:"sm",children:[(0,r.jsx)(d.A,{className:"h-4 w-4"}),"Columns"]})}),(0,r.jsxs)(x.SQ,{align:"end",className:"w-48",children:[(0,r.jsx)(x.lp,{children:"Toggle Columns"}),(0,r.jsx)(x.mB,{}),(0,r.jsx)(x.hO,{checked:M.firstName,onCheckedChange:e=>_(s=>({...s,firstName:e??!1})),children:e("table.firstName")}),(0,r.jsx)(x.hO,{checked:M.username,onCheckedChange:e=>_(s=>({...s,username:e??!1})),children:e("table.username")}),(0,r.jsx)(x.hO,{checked:M.email,onCheckedChange:e=>_(s=>({...s,email:e??!1})),children:e("table.email")}),(0,r.jsx)(x.hO,{checked:M.phone,onCheckedChange:e=>_(s=>({...s,phone:e??!1})),children:e("table.phone")}),(0,r.jsx)(x.hO,{checked:M.userType,onCheckedChange:e=>_(s=>({...s,userType:e??!1})),children:e("table.userType")}),(0,r.jsx)(x.hO,{checked:M.isVerified,onCheckedChange:e=>_(s=>({...s,isVerified:e??!1})),children:e("table.verification")}),(0,r.jsx)(x.hO,{checked:M.createdAt,onCheckedChange:e=>_(s=>({...s,createdAt:e??!1})),children:e("table.createdAt")})]})]}),(0,r.jsxs)(l.$,{variant:"outline",size:"sm",onClick:U,disabled:f,children:[(0,r.jsx)(c.A,{className:`h-4 w-4 ${f?"animate-spin":""}`}),e("actions.refresh")]}),(0,r.jsxs)(l.$,{onClick:()=>b(!0),size:"sm",children:[(0,r.jsx)(u.A,{className:"h-4 w-4"}),e("actions.create")]})]})]})});return p?(0,r.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-lg font-medium text-destructive",children:e("errors.loadFailed")}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:p.message}),(0,r.jsxs)(l.$,{variant:"outline",onClick:U,className:"mt-4",children:[(0,r.jsx)(c.A,{className:"h-4 w-4 mr-2"}),e("actions.retry")]})]})}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(I.Ou,{table:Q}),(0,r.jsx)(T,{isOpen:v,onClose:()=>b(!1)}),D&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(E,{userId:D,isOpen:N,onClose:()=>{w(!1),S(void 0)}}),(0,r.jsx)(z,{userId:D,isOpen:C,onClose:()=>{A(!1),S(void 0)}})]})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20241:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var r=a(65239),t=a(48088),l=a(88170),n=a.n(l),i=a(30893),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(s,o);let d={children:["",{children:["dashboard",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,71352)),"D:\\kangalos-fe\\Kangalos-fe\\src\\app\\dashboard\\users\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,63144)),"D:\\kangalos-fe\\Kangalos-fe\\src\\app\\dashboard\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,86190)),"D:\\kangalos-fe\\Kangalos-fe\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["D:\\kangalos-fe\\Kangalos-fe\\src\\app\\dashboard\\users\\page.tsx"],u={require:a,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/dashboard/users/page",pathname:"/dashboard/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},21820:e=>{"use strict";e.exports=require("os")},23054:(e,s,a)=>{Promise.resolve().then(a.bind(a,45196)),Promise.resolve().then(a.bind(a,17687))},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63143:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(62688).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},71352:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>n});var r=a(37413);a(61120);var t=a(82455),l=a(75622);function n(){let e=(0,l.A)("users");return(0,r.jsx)("div",{className:"container mx-auto py-6",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:e("title")}),(0,r.jsx)("p",{className:"text-muted-foreground",children:e("pageDescription")})]}),(0,r.jsx)(t.default,{})]})})}},74075:e=>{"use strict";e.exports=require("zlib")},75622:(e,s,a)=>{"use strict";a.d(s,{A:()=>d});var r=a(61120),t=a.t(r,2),l=a(2144),n=(0,r.cache)(function(e,s){return function({_cache:e=(0,l.d)(),_formatters:s=(0,l.b)(e),getMessageFallback:a=l.f,messages:r,namespace:t,onError:n=l.g,...i}){return function({messages:e,namespace:s,...a},r){return e=e["!"],s=(0,l.r)(s,"!"),(0,l.e)({...a,messages:e,namespace:s})}({...i,onError:n,cache:e,formatters:s,getMessageFallback:a,messages:{"!":r},namespace:t?`!.${t}`:"!"},"!")}({...e,namespace:s})}),i=a(88544),o=t["use".trim()];function d(...[e]){return n(function(e){var s=(0,i.A)();try{return o(s)}catch(s){throw s instanceof TypeError&&s.message.includes("Cannot read properties of null (reading 'use')")?Error(`\`${e}\` is not callable within an async component. Please refer to https://next-intl.dev/docs/environments/server-client-components#async-components`,{cause:s}):s}}("useTranslations"),e)}},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},82455:(e,s,a)=>{"use strict";a.d(s,{default:()=>r});let r=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\kangalos-fe\\\\Kangalos-fe\\\\src\\\\features\\\\users\\\\components\\\\UsersTable.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\kangalos-fe\\Kangalos-fe\\src\\features\\users\\components\\UsersTable.tsx","default")},83997:e=>{"use strict";e.exports=require("tty")},93500:(e,s,a)=>{"use strict";a.d(s,{$v:()=>x,EO:()=>c,Lt:()=>i,Rx:()=>p,Zr:()=>j,ck:()=>h,r7:()=>m,wd:()=>u});var r=a(60687);a(43210);var t=a(97895),l=a(4780),n=a(29523);function i({...e}){return(0,r.jsx)(t.bL,{"data-slot":"alert-dialog",...e})}function o({...e}){return(0,r.jsx)(t.ZL,{"data-slot":"alert-dialog-portal",...e})}function d({className:e,...s}){return(0,r.jsx)(t.hJ,{"data-slot":"alert-dialog-overlay",className:(0,l.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...s})}function c({className:e,...s}){return(0,r.jsxs)(o,{children:[(0,r.jsx)(d,{}),(0,r.jsx)(t.UC,{"data-slot":"alert-dialog-content",className:(0,l.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...s})]})}function u({className:e,...s}){return(0,r.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,l.cn)("flex flex-col gap-2 text-center sm:text-left",e),...s})}function h({className:e,...s}){return(0,r.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,l.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...s})}function m({className:e,...s}){return(0,r.jsx)(t.hE,{"data-slot":"alert-dialog-title",className:(0,l.cn)("text-lg font-semibold",e),...s})}function x({className:e,...s}){return(0,r.jsx)(t.VY,{"data-slot":"alert-dialog-description",className:(0,l.cn)("text-muted-foreground text-sm",e),...s})}function p({className:e,...s}){return(0,r.jsx)(t.rc,{className:(0,l.cn)((0,n.r)(),e),...s})}function j({className:e,...s}){return(0,r.jsx)(t.ZD,{className:(0,l.cn)((0,n.r)({variant:"outline"}),e),...s})}},94735:e=>{"use strict";e.exports=require("events")},96362:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(62688).A)("trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},97895:(e,s,a)=>{"use strict";a.d(s,{UC:()=>P,VY:()=>$,ZD:()=>V,ZL:()=>S,bL:()=>E,hE:()=>R,hJ:()=>z,rc:()=>O});var r=a(43210),t=a(11273),l=a(98599),n=a(26134),i=a(70569),o=a(8730),d=a(60687),c="AlertDialog",[u,h]=(0,t.A)(c,[n.Hs]),m=(0,n.Hs)(),x=e=>{let{__scopeAlertDialog:s,...a}=e,r=m(s);return(0,d.jsx)(n.bL,{...r,...a,modal:!0})};x.displayName=c,r.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...r}=e,t=m(a);return(0,d.jsx)(n.l9,{...t,...r,ref:s})}).displayName="AlertDialogTrigger";var p=e=>{let{__scopeAlertDialog:s,...a}=e,r=m(s);return(0,d.jsx)(n.ZL,{...r,...a})};p.displayName="AlertDialogPortal";var j=r.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...r}=e,t=m(a);return(0,d.jsx)(n.hJ,{...t,...r,ref:s})});j.displayName="AlertDialogOverlay";var f="AlertDialogContent",[g,v]=u(f),b=(0,o.Dc)("AlertDialogContent"),N=r.forwardRef((e,s)=>{let{__scopeAlertDialog:a,children:t,...o}=e,c=m(a),u=r.useRef(null),h=(0,l.s)(s,u),x=r.useRef(null);return(0,d.jsx)(n.G$,{contentName:f,titleName:y,docsSlug:"alert-dialog",children:(0,d.jsx)(g,{scope:a,cancelRef:x,children:(0,d.jsxs)(n.UC,{role:"alertdialog",...c,...o,ref:h,onOpenAutoFocus:(0,i.m)(o.onOpenAutoFocus,e=>{e.preventDefault(),x.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,d.jsx)(b,{children:t}),(0,d.jsx)(D,{contentRef:u})]})})})});N.displayName=f;var y="AlertDialogTitle",w=r.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...r}=e,t=m(a);return(0,d.jsx)(n.hE,{...t,...r,ref:s})});w.displayName=y;var C="AlertDialogDescription",A=r.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...r}=e,t=m(a);return(0,d.jsx)(n.VY,{...t,...r,ref:s})});A.displayName=C;var k=r.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...r}=e,t=m(a);return(0,d.jsx)(n.bm,{...t,...r,ref:s})});k.displayName="AlertDialogAction";var T="AlertDialogCancel",I=r.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...r}=e,{cancelRef:t}=v(T,a),i=m(a),o=(0,l.s)(s,t);return(0,d.jsx)(n.bm,{...i,...r,ref:o})});I.displayName=T;var D=({contentRef:e})=>{let s=`\`${f}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${f}\` by passing a \`${C}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${f}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return r.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(s)},[s,e]),null},E=x,S=p,z=j,P=N,O=k,V=I,R=w,$=A}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[7719,6071,4999,679,1658,5814,9365,2951,6533,5942,2215,4557,1060,4596,511,3266,2069,6104,7541,1763],()=>a(20241));module.exports=r})();